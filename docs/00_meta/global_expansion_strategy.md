# LogiShift グローバル展開戦略

## 1. 概要
`en.logishift.net` というサブドメインで英語版LogiShiftを展開し、世界の物流市場をターゲットにします。
日本語版と英語版で**リポジトリを完全に分離**し、それぞれの市場に最適化された開発・運用を行います。これにより、言語ごとの独自要件に柔軟に対応し、互いの変更による影響を排除します。

## 2. インフラアーキテクチャ

### 2.1 ドメイン戦略
- **日本版**: `logishift.net` (既存)
- **英語版**: `en.logishift.net` (新規)
  - Googleはサブドメインを地域ターゲティングのために別個のエンティティとして扱います。

### 2.2 WordPress構成
- **WordPressインスタンスの分離**
  - 日本語版と英語版で別々のWordPressを運用します。
  - **認証情報**:
    - `logishift.net`: 日本語版用（既存）
    - `en.logishift.net`: 英語版用（新規）

## 3. リポジトリ・テーマ管理戦略

### 3.1 リポジトリ構成
**【決定案：マルチリポジトリ構成】**
言語ごとに独立したリポジトリを持ちます。

- **日本語版リポジトリ**: `logishift` (既存)
  - 対象ドメイン: `logishift.net`
  - テーマ: 日本語版テーマ (`themes/logishift`)
- **英語版リポジトリ**: `logishift_en` (新規)
  - 対象ドメイン: `en.logishift.net`
  - テーマ: 英語版テーマ (`themes/logishift`) ※ベースは日本語版からフォーク

### 3.2 管理方法
- **独立した開発サイクル**: 日本語版と英語版で異なる機能追加やデザイン修正を、互いに干渉することなく自由に行えます。
- **デプロイの分離**: 各リポジトリの変更は、それぞれの対象サーバーにのみデプロイされます。

### 3.3 CI/CD戦略（GitHub Actions）
各リポジトリに専用のワークフローファイル（`.github/workflows/deploy-theme.yml`）を配置します。

| リポジトリ | ワークフロー | デプロイ先 | パス |
| :--- | :--- | :--- | :--- |
| **JP Repo** | `deploy-theme.yml` | `logishift.net` | `~/logishift.net/public_html/wp-content/themes/` |
| **EN Repo** | `deploy-theme.yml` | `en.logishift.net` | `~/logishift.net/public_html/en.logishift.net/wp-content/themes/` |

## 4. 自動化パイプラインの設計

### 4.1 パイプラインの分離
リポジトリの分離に伴い、記事自動生成パイプラインも各リポジトリで独立して稼働させます。

- Justification: 言語ごとに求められるニュースソース、プロンプトのニュアンス、生成頻度などが異なるため、無理に共通化するよりも分離したほうが最適化しやすいため。

### 4.2 実装のポイント
1.  **環境変数の分離**:
    - 英語版リポジトリのGitHub Secretsには、英語版WPの認証情報 (`WP_URL`, `WP_USER`, `WP_APP_PASSWORD`) を設定します。
2.  **プロンプトの英語化**:
    - 英語版リポジトリ内の `gemini_client.py` 等のプロンプトを英語向けに調整（"You are a logistics expert..."）します。
3.  **ソースの選定**:
    - 英語版では海外ニュースソースを優先するか、日本のニュースを翻訳して紹介する形式をとります。

## 5. 実装フェーズ

### Phase 1: リポジトリ準備（完了済み）
- 日本語版リポジトリを元に、英語版リポジトリ `logishift_en` を作成。
- 不要な資産（日本語版固有の画像など）の整理。

### Phase 2: デプロイ設定（Current）
- 英語版リポジトリの `deploy-theme.yml` を修正し、`en.logishift.net` へデプロイするように設定。
- 日本語版リポジトリの処理は削除。

### Phase 3: 自動化ロジックの英語化
- プロンプトの翻訳・最適化。
- ニュースソースの見直し。
- 英語版WPとの接続テスト。

### Phase 4: コンテンツ拡充・運用開始
- 初回記事の生成とレビュー。
- 定期実行のスケジュール設定。
